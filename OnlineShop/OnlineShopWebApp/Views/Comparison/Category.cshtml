@model (ILookup<ProductCategories, ComparisonProduct>, ProductCategories)
@{
    ViewData["Title"] = "Сравнение";

    var category = Model.Item2;
    var products = Model.Item1[category].ToList();
}

<div class="d-flex justify-content-between">
    <div class="col-6">
        <h2>Сравнение</h2>
    </div>

    <span class="col-6 d-flex align-content-center justify-content-end">
        <a class="bi bi-trash-fill trash-icon align-content-center"
            asp-area="" asp-controller="Comparison" asp-action="DeleteAll">
        </a>
    </span>
</div>

@{
    if (products.Count == 0)
    {
        <p>В сравнении нет товаров</p>
        return;
    } 
}

<ul class="nav">
    @foreach (var item in Model.Item1)
    {
        if (category == item.Key)
        {
            <li class="nav-link">
                <a class="text-blue fs-5 fw-bold" asp-area="" asp-controller="Comparison" asp-action="Category" asp-route-category="@item.Key">
                    @item.Key (@item.Count())
                </a>
            </li>
            continue;
        }

        <li class="nav-link">
            <a class="text-black fs-5" asp-area="" asp-controller="Comparison" asp-action="Category" asp-route-category="@item.Key">
                <span>@item.Key (@item.Count())</span>
            </a>
        </li>
    }
</ul>

<hr class="border-brown" />  

@{
    <div class="container position-relative mb-3">
        <div class="row gx-3">
            @* Генерация карт товаров *@
            @await Html.PartialAsync("_ComparisonCard", products)
        </div>
    </div>
}






